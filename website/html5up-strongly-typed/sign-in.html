<!DOCTYPE HTML>
<!--
	Strongly Typed by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Sign In</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="no-sidebar is-preload">
		<div id="page-wrapper">

			<!-- Header -->
				<section id="header">
					<div class="container">

						<!-- Logo -->
							<h1 id="logo"><a href="index.html"></a>Annie Cassie Fit</h1>
							<p>Sign In</p>

						<!-- Nav -->
							<nav id="nav">
								<ul>
									<li><a class="icon solid fa-home" href="index.html"><span>Home</span></a></li>
									<li><a class="icon solid fa-sitemap" href="registration.html"><span>Create Your Account</span></a></li>
									<li><a class="icon solid fa-sitemap" href="sign-in.html"><span>Sign In</span></a></li>
									<li><a class="icon solid fa-cog" href="high-fitness-intro.html"><span>High Fitness</span></a></li>
									<li><a class="icon solid fa-retweet" href="boot-camp-intro.html"><span>Boot Camp</span></a></li>
									<li><a class="icon solid fa-sitemap" href="bio.html"><span>About Annie and Cassie</span></a></li>
								</ul>
							</nav>

					</div>
				</section>

			<!-- Main -->
				<section id="main">
					<div class="container">
						<div class="row">
							<div class="col-6 col-12-medium">
								<section>
									<form method="post" action="https://1fuqo5lkh6.execute-api.us-east-2.amazonaws.com/default/any">
										<div class="row gtr-50">
											<div class="col-6 col-12-small">
												<input name="username" id="username" placeholder="Username" type="text" />
											</div>
											<div class="col-6 col-12-small">
												<input name="pwd" id="pwd" placeholder="Password" type="password" />
											</div>
											<div class="col-6 col-12-small">
											</div>
											<div class="col-6 col-12-small">
												<a href="../forgot-password.html">Forgot Password</a>
											</div>
											<div class="col-12">
												<a href="javascript:xmlRequest()" class="form-button-submit button icon solid fa-envelope">Submit</a>
											</div>

										</div>
									</form>
								</section>
							</div>
					</div>
				</section>

			<!-- Footer -->
				
					<div id="copyright" class="container">
						<ul class="links">
							<li>&copy; Annie Cassie Fit. All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
						</ul>
					</div>
				</section>

		</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.dropotron.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

<script>


function xmlRequest()
{

	var postRequest = new XMLHttpRequest()
	var aDayinSeconds = 60*60*24

	var data = {
  		"username"			: document.getElementById('username').value,
  		"password"			: document.getElementById('pwd').value
	};

	postRequest.open('POST', 'https://1fuqo5lkh6.execute-api.us-east-2.amazonaws.com/default/any', true)
	postRequest.setRequestHeader('Content-type', 'application/json;charset=UTF-8');
	//postRequest.withCredentials = true;
	
	postRequest.onload = function () 
	{
	  // Begin accessing JSON data here
	  var responseData = JSON.parse(this.response)

	  if (postRequest.status >= 200 && postRequest.status < 400) 
	  {
	  		document.cookie = 'auth=' + postRequest.responseText + ';secure;Path=/;max-age=' + aDayinSeconds
	  		window.location.replace('user-info.html')
	  }
	  else
	  {
	  		window.alert("Incorrect Username or Password. Please try again");
	  }
	}

	postRequest.send(JSON.stringify(data))
}



</script>

	</body>
</html>